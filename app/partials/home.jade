.container-fluid(ng-controller="AccordionCtrl")
  label.checkbox
    input(type='checkbox', ng-model='oneAtATime')
    |     Abrir un elemento a la vez
  
  accordion(close-others='oneAtATime', is-open='status.open')
    accordion-group(ng-repeat='group in groups', on-accordion-group-click="{{group.template}}")
      accordion-heading
        .row
          .col-sm-3
            | {{group.user_key}}
          
          .col-sm-2(ng-hide='status.open')
            progressbar.small(
              animate='false'
              value='(group.budget_breakthrough * group.total_cost) / 100'
              max='group.total_cost'
              type='{{progressType((group.budget_breakthrough * group.total_cost) / 100)}}'
            )
          
          .col-sm-2(ng-hide='status.open')
            progressbar.small(
              animate='false'
              value='(group.completed_goals * group.goal_number) / 100'
              max='group.goal_number'
              type='{{progressType((group.completed_goals * group.goal_number) / 100)}}'
            )
          
          .col-sm-2(ng-hide='status.open')
            progressbar.small(
              animate='false'
              value='(group.real_beneficiaries * group.total_of_beneficiaries) / 100'
              max='group.total_of_beneficiaries'
              type='{{progressType((group.real_beneficiaries * group.total_of_beneficiaries) / 100)}}'
            )
          
          .col-sm-3(ng-hide='status.open')
            i.glyphicon.glyphicon-usd(ng-class="{'disabled': (group.quantity < 1)}", tooltip="tooltip")
            i.glyphicon.glyphicon-eye-open(ng-class="{'disabled': !group.notes}", tooltip="tooltip")
            i.glyphicon.glyphicon-magnet(ng-class="{'disabled': !group.visits}", tooltip="tooltip")

      h3
        | {{group.user_key}}
      
      progress
        bar(ng-repeat='bar in stacked track by $index', value='bar.value', type='{{bar.type}}')
          span(ng-hide='bar.value < 5') {{bar.value}}%
      
      .btn-group.pull-right(role='group', aria-label='Acciones')
        button.btn.btn-xs.btn-primary(type='button', ng-click='randomStacked()')
          | Randomizar
        
        button.btn.btn-xs.btn-default(type='button')
          i.glyphicon.glyphicon-ok
          | Aceptar
          
        button.btn.btn-xs.btn-default(type='button')
          i.glyphicon.glyphicon-plus
          | Agregar ObservaciÃ³n
