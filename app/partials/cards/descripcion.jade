//- Tarjeta principal (versión compacta)

extends $layout

block title
  h3 Resumen

block action
  a.btn.btn-primary.btn-sm(href="#/acciones/{{a.id}}")
    fa(name='chevron-circle-right')
    | Ver detalles

block content
  .col-md-6
    .progress-info
      h6 Presupuesto asignado
      h3 {{a.budget_breakthrough | currency}}
    
    .budget-info
      progress.progress-bar-por-ejercer
        bar(
          ng-repeat='bar in stacked track by $index'
          type='{{bar.type}}'
          value='bar.value'
        ): span(ng-hide='bar.value < 10') {{bar.value}}%
        
    include ../$legend
    
    .goals-info
      h6 Avances
      progressbar(
        type='{{progressType(benefs)}}'
        value='benefs'
      )
      
      .footnote
        span.footnote-label {{a.real_beneficiaries | number:0}} de {{a.total_of_beneficiaries | number:0}}
        
        button.btn.btn-xs.btn-link(
          ng-click='ask("benefs")'
          type='button'
        )
          fa(name='pencil')
          |  Registrar avances
      
      progressbar(
        type='{{progressType(goals)}}'
        value='goals'
      )

      .footnote
        span.footnote-label {{a.completed_goals | number:0}} de {{a.quantity | number:0}}
        
        button.btn.btn-xs.btn-link(
          ng-click='ask("goals")'
          type='button'
        )
          fa(name='pencil')
          |  Registrar avances

  .col-md-6.description-info
    .action-info
      h6 Acción
      p {{a.action}}
    
    .action-info
      h6 Descripción
    
    .row
      .col-md-12.more
        p {{a.description | limitTo:350}}
          span(ng-if='a.description.length > 350') …
        
      //- button.btn.btn-link.pull-right(
        |    ng-click='openModal()'
        |    type='button'
        |  ) Ver detalles
        |    i.fa.fa-arrow-right
